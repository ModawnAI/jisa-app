# KakaoTalk ì•± íë¦„ ë° ë””ìì¸ ì¼ê´€ì„± ì¶”ì  ë¬¸ì„œ

> **ëª©ì **: JISA KakaoTalk ì±—ë´‡ ê´€ë ¨ ëª¨ë“  í˜ì´ì§€ë¥¼ ì¶”ì í•˜ê³ , ë””ìì¸/UX ì¼ê´€ì„± í™•ë³´, í•œêµ­ì–´ í†µì¼í™” ì‘ì—…ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

**ì‘ì„±ì¼**: 2025-11-17
**ìµœì¢… ìˆ˜ì •**: 2025-11-17
**ìƒíƒœ**: [ì™„ë£Œ] Phase 1, 2, 3, 4 ì™„ë£Œ - 100% ì™„ë£Œ

---

## ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [í˜„ì¬ ìƒíƒœ ë¶„ì„](#í˜„ì¬-ìƒíƒœ-ë¶„ì„)
3. [í˜ì´ì§€ë³„ ìƒíƒœ](#í˜ì´ì§€ë³„-ìƒíƒœ)
4. [ë””ìì¸ ì¼ê´€ì„± ë¬¸ì œ](#ë””ìì¸-ì¼ê´€ì„±-ë¬¸ì œ)
5. [ê°œì„  ê³„íš](#ê°œì„ -ê³„íš)
6. [ì§„í–‰ ìƒí™©](#ì§„í–‰-ìƒí™©)

---

## ì‹œìŠ¤í…œ ê°œìš”

### KakaoTalk í†µí•© ì•„í‚¤í…ì²˜

JISA ì±—ë´‡ì€ **ìˆœìˆ˜ API ê¸°ë°˜ KakaoTalk í†µí•©**ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

- **ì›¹í›… ì—”ë“œí¬ì¸íŠ¸**: `POST /api/kakao/chat`
- **ì¸ì¦ ë°©ì‹**: ì¸ì¦ ì½”ë“œ ê¸°ë°˜ ê²Œì´íŠ¸ì›¨ì´ (XXX-XXX-XXX-XXX í˜•ì‹)
- **ì ‘ê·¼ ì œì–´**: RBAC (Role-Based Access Control)
- **6ë‹¨ê³„ ì—­í• **: user < junior < senior < manager < admin < ceo
- **4ë‹¨ê³„ êµ¬ë…**: free < basic < pro < enterprise

### ì£¼ìš” ì‚¬ìš©ì í”Œë¡œìš°

```
KakaoTalk ì‚¬ìš©ì
    â†“
1. ì²« ë©”ì‹œì§€ ì „ì†¡
    â†“
2. ì¸ì¦ ì½”ë“œ ìš”ì²­
    â†“
3. ê´€ë¦¬ìê°€ ì½”ë“œ ìƒì„± (/admin/codes)
    â†“
4. ì‚¬ìš©ìê°€ ì½”ë“œ ì…ë ¥
    â†“
5. í”„ë¡œí•„ ìƒì„± (ì—­í• /í‹°ì–´ í• ë‹¹)
    â†“
6. ì±—ë´‡ ì„œë¹„ìŠ¤ ì´ìš© ì‹œì‘
```

---

## í˜„ì¬ ìƒíƒœ ë¶„ì„

### [ì™„ë£Œ] ì˜ ë˜ì–´ìˆëŠ” ë¶€ë¶„

1. **ë„¤ë¹„ê²Œì´ì…˜ êµ¬ì¡°**
   - [ì™„ë£Œ] ëª¨ë“  ê´€ë¦¬ì í˜ì´ì§€ê°€ DashboardLayout ì‚¬ìš©
   - [ì™„ë£Œ] Sidebarê°€ ì¼ê´€ë˜ê²Œ í‘œì‹œë¨
   - [ì™„ë£Œ] ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ í•œêµ­ì–´ë¡œ í†µì¼
   - [ì™„ë£Œ] ëª…í™•í•œ ì„¹ì…˜ êµ¬ë¶„ (ëŒ€ì‹œë³´ë“œ, ì‚¬ìš©ì ê´€ë¦¬, ì½”ë“œ ê´€ë¦¬, ì½˜í…ì¸  ê´€ë¦¬, ì‹œìŠ¤í…œ)

2. **API êµ¬ì¡°**
   - [ì™„ë£Œ] RESTful API ë””ìì¸
   - [ì™„ë£Œ] ì¼ê´€ëœ ì—ëŸ¬ í•¸ë“¤ë§
   - [ì™„ë£Œ] TypeScript íƒ€ì… ì •ì˜

### [ì™„ë£Œ] í•´ê²°ëœ ë¬¸ì œì 

1. **ì–¸ì–´ ì¼ê´€ì„± ë¶€ì¡±** - [ì™„ë£Œ]
   - [ì™„ë£Œ] ëª¨ë“  í˜ì´ì§€ í—¤ë”/ë²„íŠ¼ í•œêµ­ì–´ë¡œ ë³€ê²½
   - [ì™„ë£Œ] í¼ ë¼ë²¨ê³¼ ì˜µì…˜ê°’ í•œêµ­ì–´ë¡œ í†µì¼
   - [ì™„ë£Œ] ì—ëŸ¬ ë©”ì‹œì§€ í•œêµ­ì–´ë¡œ ë³€ê²½

2. **ë””ìì¸ ì¼ê´€ì„± ë¶€ì¡±** - [ì™„ë£Œ]
   - [ì™„ë£Œ] Bulk Generate í˜ì´ì§€ DashboardLayout ì ìš©
   - [ì™„ë£Œ] ëª¨ë“  í˜ì´ì§€ ë²„íŠ¼/ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ í†µì¼

3. **ì‚¬ìš©ì ê²½í—˜** - [ì™„ë£Œ]
   - [ì™„ë£Œ] ì—­í• /í‹°ì–´ ì˜µì…˜ í•œêµ­ì–´ë¡œ í‘œì‹œ
   - [ì™„ë£Œ] Lucide ì•„ì´ì½˜ ì¶”ê°€ë¡œ ì§ê´€ì„± í–¥ìƒ

---

## í˜ì´ì§€ë³„ ìƒíƒœ

### 1. ëŒ€ì‹œë³´ë“œ í˜ì´ì§€

| í˜ì´ì§€ | ê²½ë¡œ | ì‚¬ì´ë“œë°” | ì–¸ì–´ | ìƒíƒœ | ìš°ì„ ìˆœìœ„ |
|--------|------|----------|------|------|----------|
| ëŒ€ì‹œë³´ë“œ í™ˆ | `/dashboard` | [ì™„ë£Œ] | [ì™„ë£Œ] í•œêµ­ì–´ | [ì™„ë£Œ] | - |
| í†µê³„ | `/admin/analytics` | [ì™„ë£Œ] | [ì™„ë£Œ] í•œêµ­ì–´ | [ì™„ë£Œ] | - |

**ëŒ€ì‹œë³´ë“œ í™ˆ (`/dashboard`)**
- [ì™„ë£Œ] ì™„ì „ í•œêµ­ì–´í™”
- [ì™„ë£Œ] DashboardLayout ì‚¬ìš©
- [ì™„ë£Œ] ì¼ê´€ëœ ë””ìì¸
- íŒŒì¼: `app/dashboard/page.tsx`

**í†µê³„ í˜ì´ì§€ (`/admin/analytics`)**
- [ì™„ë£Œ] í—¤ë”: "Analytics" â†’ "ë¶„ì„"
- [ì™„ë£Œ] íƒ­ ë¼ë²¨: "ì‚¬ìš©ì", "ì½˜í…ì¸ ", "ì„±ëŠ¥", "ì ‘ê·¼ ì œì–´"
- [ì™„ë£Œ] ì°¨íŠ¸ ë¼ë²¨ ë° ì„¤ëª… í•œêµ­ì–´
- [ì™„ë£Œ] DashboardLayout ì ìš©
- [ì™„ë£Œ] Lucide ì•„ì´ì½˜ ì¶”ê°€ (TrendingUp, FileText, Gauge, Shield)
- íŒŒì¼: `app/admin/analytics/page.tsx`

---

### 2. ì½”ë“œ ê´€ë¦¬ í˜ì´ì§€

| í˜ì´ì§€ | ê²½ë¡œ | ì‚¬ì´ë“œë°” | ì–¸ì–´ | ìƒíƒœ | ìš°ì„ ìˆœìœ„ |
|--------|------|----------|------|------|----------|
| ì½”ë“œ ëª©ë¡ | `/admin/codes` | [ì™„ë£Œ] | [ì™„ë£Œ] í•œêµ­ì–´ | [ì™„ë£Œ] | - |
| ì½”ë“œ ìƒì„± | `/admin/codes/generate` | [ì™„ë£Œ] | [ì™„ë£Œ] í•œêµ­ì–´ | [ì™„ë£Œ] | - |
| ëŒ€ëŸ‰ ìƒì„± | `/admin/codes/bulk-generate` | [ì™„ë£Œ] | [ì™„ë£Œ] í•œêµ­ì–´ | [ì™„ë£Œ] | - |

**ì½”ë“œ ëª©ë¡ (`/admin/codes`)**
- [ì™„ë£Œ] ì™„ì „ í•œêµ­ì–´í™”
- [ì™„ë£Œ] DashboardLayout ì‚¬ìš©
- íŒŒì¼: `app/admin/codes/page.tsx`

**ì½”ë“œ ìƒì„± (`/admin/codes/generate`)**
- [ì™„ë£Œ] ì™„ì „ í•œêµ­ì–´í™”
- [ì™„ë£Œ] ì—­í•  ì˜µì…˜: "ì‚¬ìš©ì", "ì£¼ë‹ˆì–´", "ì‹œë‹ˆì–´", "ê´€ë¦¬ì", "ì´ê´„ ê´€ë¦¬ì", "ëŒ€í‘œì´ì‚¬"
- [ì™„ë£Œ] í‹°ì–´ ì˜µì…˜: "ë¬´ë£Œ", "ë² ì´ì§", "í”„ë¡œ", "ì—”í„°í”„ë¼ì´ì¦ˆ"
- [ì™„ë£Œ] DashboardLayout ì‚¬ìš©
- íŒŒì¼: `app/admin/codes/generate/page.tsx`

**ëŒ€ëŸ‰ ì½”ë“œ ìƒì„± (`/admin/codes/bulk-generate`)**
- [ì™„ë£Œ] í—¤ë”: "ëŒ€ëŸ‰ ì½”ë“œ ìƒì„±"
- [ì™„ë£Œ] ì„¤ëª…: "CSV ë°ì´í„°ì—ì„œ ì—¬ëŸ¬ ì¸ì¦ ì½”ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤"
- [ì™„ë£Œ] ì§„í–‰ ë‹¨ê³„: "CSV ì—…ë¡œë“œ", "ì„¤ì •", "ê²°ê³¼"
- [ì™„ë£Œ] í¼ ë¼ë²¨ í•œêµ­ì–´í™”
- [ì™„ë£Œ] í…Œì´ë¸” í—¤ë”: "ì½”ë“œ", "ìˆ˜ì‹ ì", "ì´ë©”ì¼", "ë§Œë£Œì¼"
- [ì™„ë£Œ] ë²„íŠ¼: "ì´ì „", "ì½”ë“œ ìƒì„±", "CSV ë‹¤ìš´ë¡œë“œ", "ëª¨ë“  ì½”ë“œ ë³´ê¸°"
- [ì™„ë£Œ] DashboardLayout ì ìš©
- [ì™„ë£Œ] Lucide ì•„ì´ì½˜ ì¶”ê°€ (Upload, CheckCircle, AlertCircle, Download, Eye)
- [ì™„ë£Œ] primary ìƒ‰ìƒìœ¼ë¡œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ í†µì¼
- íŒŒì¼: `app/admin/codes/bulk-generate/page.tsx`

---

### 3. ì‚¬ìš©ì ê´€ë¦¬ í˜ì´ì§€

| í˜ì´ì§€ | ê²½ë¡œ | ì‚¬ì´ë“œë°” | ì–¸ì–´ | ìƒíƒœ | ìš°ì„ ìˆœìœ„ |
|--------|------|----------|------|------|----------|
| ì‚¬ìš©ì ëª©ë¡ | `/admin/users` | âœ… | ? | ğŸ“ í™•ì¸ í•„ìš” | ğŸ”¥ ì¤‘ê°„ |
| ì‚¬ìš©ì ìƒì„¸ | `/admin/users/[id]` | âœ… | ? | ğŸ“ í™•ì¸ í•„ìš” | ğŸ”¥ ì¤‘ê°„ |
| ì§ì› ê´€ë¦¬ | `/admin/employees` | âœ… | ? | ğŸ“ í™•ì¸ í•„ìš” | ğŸ”¥ ì¤‘ê°„ |
| ì¸ì¦ ì •ë³´ | `/admin/credentials` | âœ… | ? | ğŸ“ í™•ì¸ í•„ìš” | ğŸ”¥ ì¤‘ê°„ |

**ì°¸ê³ **: KakaoTalk ì‚¬ìš©ìëŠ” `kakao_user_id` í•„ë“œë¡œ ì¶”ì ë¨

---

### 4. API ì—”ë“œí¬ì¸íŠ¸

| ì—”ë“œí¬ì¸íŠ¸ | ë©”ì„œë“œ | ì„¤ëª… | ìƒíƒœ |
|-----------|--------|------|------|
| `/api/kakao/chat` | POST | KakaoTalk ì›¹í›… í•¸ë“¤ëŸ¬ | âœ… ìš´ì˜ ì¤‘ |
| `/api/verify` | POST | ì¸ì¦ ì½”ë“œ ê²€ì¦ | âœ… ìš´ì˜ ì¤‘ |
| `/api/admin/codes/generate` | POST | ì½”ë“œ ìƒì„± | âœ… ìš´ì˜ ì¤‘ |
| `/api/admin/codes/generate-bulk` | POST | ëŒ€ëŸ‰ ì½”ë“œ ìƒì„± | âœ… ìš´ì˜ ì¤‘ |
| `/api/analytics/*` | GET | í†µê³„ ë°ì´í„° | âœ… ìš´ì˜ ì¤‘ |
| `/api/dashboard/*` | GET | ëŒ€ì‹œë³´ë“œ ë°ì´í„° | âœ… ìš´ì˜ ì¤‘ |

---

## ë””ìì¸ ì¼ê´€ì„± ë¬¸ì œ

### ë ˆì´ì•„ì›ƒ ì¼ê´€ì„±

```
[ì™„ë£Œ] ëª¨ë“  í˜ì´ì§€ DashboardLayout ì‚¬ìš©:
- /dashboard
- /admin/codes
- /admin/codes/generate
- /admin/analytics
- /admin/codes/bulk-generate
```

### ìŠ¤íƒ€ì¼ ë¶ˆì¼ì¹˜

1. **ë²„íŠ¼ ìŠ¤íƒ€ì¼**
   - ëŒ€ë¶€ë¶„: `bg-primary-600` (íŒŒë€ìƒ‰)
   - Bulk Generate: `bg-blue-600` (ë‹¤ë¥¸ íŒŒë€ìƒ‰ í†¤)

2. **í—¤ë” ìŠ¤íƒ€ì¼**
   - ëŒ€ë¶€ë¶„: `text-3xl font-bold text-gray-900`
   - Analytics: `text-3xl font-bold tracking-tight` (tracking-tight ì¶”ê°€)

3. **ì¹´ë“œ ìŠ¤íƒ€ì¼**
   - ëŒ€ë¶€ë¶„: `bg-white rounded-lg shadow-sm border border-gray-200`
   - Analytics: `rounded-lg border bg-card` (ë‹¤ë¥¸ ë³€ìˆ˜ ì‚¬ìš©)

### ì–¸ì–´ í˜¼ìš© íŒ¨í„´

| ìš”ì†Œ | ì´ì „ ìƒíƒœ | í˜„ì¬ ìƒíƒœ |
|------|-----------|------|
| í˜ì´ì§€ ì œëª© | í˜¼ìš© (í•œêµ­ì–´/ì˜ì–´) | [ì™„ë£Œ] 100% í•œêµ­ì–´ |
| ë²„íŠ¼ í…ìŠ¤íŠ¸ | í˜¼ìš© | [ì™„ë£Œ] 100% í•œêµ­ì–´ |
| í¼ ë¼ë²¨ | ëŒ€ë¶€ë¶„ í•œêµ­ì–´ | [ì™„ë£Œ] 100% í•œêµ­ì–´ |
| ì˜µì…˜ê°’ (Role/Tier) | 100% ì˜ì–´ | [ì™„ë£Œ] 100% í•œêµ­ì–´ |
| í…Œì´ë¸” í—¤ë” | í˜¼ìš© | [ì™„ë£Œ] 100% í•œêµ­ì–´ |
| ì—ëŸ¬ ë©”ì‹œì§€ | ëŒ€ë¶€ë¶„ í•œêµ­ì–´ | [ì™„ë£Œ] 100% í•œêµ­ì–´ |
| ì•ˆë‚´ ë¬¸êµ¬ | í˜¼ìš© | [ì™„ë£Œ] 100% í•œêµ­ì–´ |

---

## ê°œì„  ê³„íš

### Phase 1: ê¸´ê¸‰ ìˆ˜ì • (ìš°ì„ ìˆœìœ„ ë†’ìŒ)

#### 1.1 Bulk Generate í˜ì´ì§€ DashboardLayout ì ìš©
**íŒŒì¼**: `app/admin/codes/bulk-generate/page.tsx`

```tsx
// í˜„ì¬
export default function BulkCodeGenerationPage() {
  return (
    <div className="container mx-auto p-6 max-w-6xl">
      ...
    </div>
  )
}

// ê°œì„ 
import { DashboardLayout } from '@/components/layouts/dashboard-layout'

export default function BulkCodeGenerationPage() {
  return (
    <DashboardLayout>
      <div className="space-y-6">
        ...
      </div>
    </DashboardLayout>
  )
}
```

**ë³€ê²½ ì‚¬í•­**:
- [ ] DashboardLayout import ì¶”ê°€
- [ ] ê¸°ì¡´ ì»¨í…Œì´ë„ˆ ì œê±°
- [ ] ë°± ë²„íŠ¼ ì œê±° (ì‚¬ì´ë“œë°” ë„¤ë¹„ê²Œì´ì…˜ìœ¼ë¡œ ëŒ€ì²´)
- [ ] max-width ì œì•½ ì œê±° (ë ˆì´ì•„ì›ƒì´ ì²˜ë¦¬)

#### 1.2 Bulk Generate í˜ì´ì§€ í•œêµ­ì–´í™”
**íŒŒì¼**: `app/admin/codes/bulk-generate/page.tsx`

**ë³€ê²½ ëª©ë¡**:
- [ ] í—¤ë”: "Bulk Code Generation" â†’ "ëŒ€ëŸ‰ ì½”ë“œ ìƒì„±"
- [ ] ì„¤ëª…: "Generate multiple..." â†’ "CSV ë°ì´í„°ì—ì„œ ì—¬ëŸ¬ ì¸ì¦ ì½”ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤"
- [ ] ì§„í–‰ ë‹¨ê³„:
  - [ ] "Upload CSV" â†’ "CSV ì—…ë¡œë“œ"
  - [ ] "Configure" â†’ "ì„¤ì •"
  - [ ] "Results" â†’ "ê²°ê³¼"
- [ ] í¼ ë¼ë²¨:
  - [ ] "Default Role" â†’ "ê¸°ë³¸ ì—­í• "
  - [ ] "Default Tier" â†’ "ê¸°ë³¸ êµ¬ë… í‹°ì–´"
  - [ ] "Expires In Days" â†’ "ë§Œë£Œ ê¸°ê°„ (ì¼)"
  - [ ] "Distribution Method" â†’ "ë°°í¬ ë°©ë²•"
  - [ ] "Require credential matching..." â†’ "ì¸ì¦ ì •ë³´ ì¼ì¹˜ í•„ìˆ˜"
  - [ ] "Match Fields" â†’ "ì¼ì¹˜ í•„ë“œ"
- [ ] ë²„íŠ¼:
  - [ ] "Back" â†’ "ì´ì „"
  - [ ] "Generate Codes" â†’ "ì½”ë“œ ìƒì„±"
  - [ ] "Generating..." â†’ "ìƒì„± ì¤‘..."
  - [ ] "Download CSV" â†’ "CSV ë‹¤ìš´ë¡œë“œ"
  - [ ] "View All Codes" â†’ "ëª¨ë“  ì½”ë“œ ë³´ê¸°"
- [ ] í…Œì´ë¸” í—¤ë”:
  - [ ] "Code" â†’ "ì½”ë“œ"
  - [ ] "Recipient" â†’ "ìˆ˜ì‹ ì"
  - [ ] "Email" â†’ "ì´ë©”ì¼"
  - [ ] "Expires" â†’ "ë§Œë£Œì¼"
- [ ] ì˜µì…˜ê°’:
  - [ ] "Manual" â†’ "ìˆ˜ë™"
  - [ ] "KakaoTalk" â†’ "ì¹´ì¹´ì˜¤í†¡"
  - [ ] "Email" â†’ "ì´ë©”ì¼"
  - [ ] "SMS" â†’ "ë¬¸ì"

#### 1.3 Analytics í˜ì´ì§€ DashboardLayout ì ìš©
**íŒŒì¼**: `app/admin/analytics/page.tsx`

```tsx
// í˜„ì¬
export default function AnalyticsPage() {
  return (
    <div className="space-y-8 p-8">
      ...
    </div>
  )
}

// ê°œì„ 
import { DashboardLayout } from '@/components/layouts/dashboard-layout'

export default function AnalyticsPage() {
  return (
    <DashboardLayout>
      <div className="space-y-6">
        ...
      </div>
    </DashboardLayout>
  )
}
```

#### 1.4 Analytics í˜ì´ì§€ í•œêµ­ì–´í™”
**íŒŒì¼**: `app/admin/analytics/page.tsx`

**ë³€ê²½ ëª©ë¡**:
- [ ] í—¤ë”: "Analytics" â†’ "ë¶„ì„"
- [ ] ì„¤ëª…: "Advanced system analytics and insights" â†’ "ì‹œìŠ¤í…œ ë¶„ì„ ë° ì¸ì‚¬ì´íŠ¸"
- [ ] íƒ­:
  - [ ] "Users" â†’ "ì‚¬ìš©ì"
  - [ ] "Content" â†’ "ì½˜í…ì¸ "
  - [ ] "Performance" â†’ "ì„±ëŠ¥"
  - [ ] "Access Control" â†’ "ì ‘ê·¼ ì œì–´"
- [ ] ì„¹ì…˜ ì œëª©ë“¤:
  - [ ] "User Distribution by Role" â†’ "ì—­í• ë³„ ì‚¬ìš©ì ë¶„í¬"
  - [ ] "User Distribution by Tier" â†’ "êµ¬ë… í‹°ì–´ë³„ ì‚¬ìš©ì ë¶„í¬"
  - [ ] "Content Gaps" â†’ "ì½˜í…ì¸  ë¶€ì¡± ì˜ì—­"
  - [ ] "Underutilized Content" â†’ "í™œìš©ë„ê°€ ë‚®ì€ ì½˜í…ì¸ "
  - [ ] "Query Types" â†’ "ì¿¼ë¦¬ ìœ í˜•"
  - [ ] "Average Times" â†’ "í‰ê·  ì‘ë‹µ ì‹œê°„"
  - [ ] "System Health" â†’ "ì‹œìŠ¤í…œ ìƒíƒœ"
- [ ] ë²„íŠ¼/ë§í¬:
  - [ ] "Retry" â†’ "ë‹¤ì‹œ ì‹œë„"
  - [ ] "Failed to load analytics" â†’ "ë¶„ì„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤"

### Phase 2: ì˜µì…˜ê°’ í•œêµ­ì–´í™” (ìš°ì„ ìˆœìœ„ ì¤‘ê°„)

#### 2.1 ì—­í• (Role) í•œêµ­ì–´ ë§¤í•‘
**íŒŒì¼**: `app/admin/codes/generate/page.tsx`, `app/admin/codes/bulk-generate/page.tsx`

```tsx
// í˜„ì¬
<option value="user">User</option>
<option value="junior">Junior</option>
<option value="senior">Senior</option>
<option value="manager">Manager</option>
<option value="admin">Admin</option>
<option value="ceo">CEO</option>

// ê°œì„ 
<option value="user">ì‚¬ìš©ì</option>
<option value="junior">ì£¼ë‹ˆì–´</option>
<option value="senior">ì‹œë‹ˆì–´</option>
<option value="manager">ê´€ë¦¬ì</option>
<option value="admin">ì´ê´„ ê´€ë¦¬ì</option>
<option value="ceo">ëŒ€í‘œì´ì‚¬</option>
```

**ì ìš© íŒŒì¼**:
- [ ] `app/admin/codes/generate/page.tsx` (402-418ì¤„)
- [ ] `app/admin/codes/bulk-generate/page.tsx` (310-316ì¤„)

#### 2.2 êµ¬ë… í‹°ì–´(Tier) í•œêµ­ì–´ ë§¤í•‘
**íŒŒì¼**: `app/admin/codes/generate/page.tsx`, `app/admin/codes/bulk-generate/page.tsx`

```tsx
// í˜„ì¬
<option value="free">Free</option>
<option value="basic">Basic</option>
<option value="pro">Pro</option>
<option value="enterprise">Enterprise</option>

// ê°œì„ 
<option value="free">ë¬´ë£Œ</option>
<option value="basic">ë² ì´ì§</option>
<option value="pro">í”„ë¡œ</option>
<option value="enterprise">ì—”í„°í”„ë¼ì´ì¦ˆ</option>
```

**ì ìš© íŒŒì¼**:
- [ ] `app/admin/codes/generate/page.tsx` (428-437ì¤„)
- [ ] `app/admin/codes/bulk-generate/page.tsx` (327-333ì¤„)

#### 2.3 ì½”ë“œ íƒ€ì… í•œêµ­ì–´ í™•ì¸
**íŒŒì¼**: `app/admin/codes/generate/page.tsx`

```tsx
// ì´ë¯¸ í•œêµ­ì–´ë¡œ ë˜ì–´ìˆìŒ âœ…
<option value="registration">íšŒì›ê°€ì…</option>
<option value="subscription">êµ¬ë… ì—…ê·¸ë ˆì´ë“œ</option>
<option value="one_time_access">ì¼íšŒì„± ì•¡ì„¸ìŠ¤</option>
```

### Phase 3: ì¼ê´€ì„± ê°œì„  (ìš°ì„ ìˆœìœ„ ì¤‘ê°„)

#### 3.1 ë²„íŠ¼ ìŠ¤íƒ€ì¼ í†µì¼
**ë³€ê²½ ì „**:
- Bulk Generate: `bg-blue-600 hover:bg-blue-700`

**ë³€ê²½ í›„**:
- ëª¨ë“  í˜ì´ì§€: `bg-primary-600 hover:bg-primary-700`

**ì ìš© íŒŒì¼**:
- [ ] `app/admin/codes/bulk-generate/page.tsx` (ëª¨ë“  ë²„íŠ¼)

#### 3.2 ì¹´ë“œ/ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ í†µì¼
**í‘œì¤€ ìŠ¤íƒ€ì¼**:
```tsx
<div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
```

**ì ìš© íŒŒì¼**:
- [ ] `app/admin/analytics/page.tsx`
- [ ] `app/admin/codes/bulk-generate/page.tsx`

#### 3.3 í—¤ë” ìŠ¤íƒ€ì¼ í†µì¼
**í‘œì¤€ ìŠ¤íƒ€ì¼**:
```tsx
<h1 className="text-3xl font-bold text-gray-900">ì œëª©</h1>
<p className="mt-2 text-sm text-gray-600">ì„¤ëª…</p>
```

**ì ìš© íŒŒì¼**:
- [ ] `app/admin/analytics/page.tsx`
- [ ] `app/admin/codes/bulk-generate/page.tsx`

### Phase 4: ì‚¬ìš©ì ê²½í—˜ ê°œì„  (ìš°ì„ ìˆœìœ„ ë‚®ìŒ)

#### 4.1 ì•ˆë‚´ ë¬¸êµ¬ ê°œì„ 
- [ ] CSV ì—…ë¡œë“œ ì•ˆë‚´ ë¬¸êµ¬ë¥¼ ë” ì‰½ê²Œ
- [ ] ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë” ì¹œì ˆí•˜ê²Œ
- [ ] ì„±ê³µ ë©”ì‹œì§€ì— ë‹¤ìŒ ë‹¨ê³„ ì•ˆë‚´ ì¶”ê°€

#### 4.2 ë„ì›€ë§ ì¶”ê°€
- [ ] ê° í•„ë“œì— íˆ´íŒ ì¶”ê°€
- [ ] ì—­í• /í‹°ì–´ ì„¤ëª… íŒì—…
- [ ] CSV í˜•ì‹ ì˜ˆì œ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼

#### 4.3 ë°˜ì‘í˜• ë””ìì¸ ê°œì„ 
- [ ] ëª¨ë°”ì¼ í™”ë©´ì—ì„œ í…Œì´ë¸” ìŠ¤í¬ë¡¤
- [ ] íƒœë¸”ë¦¿ í™”ë©´ ë ˆì´ì•„ì›ƒ ìµœì í™”

---

## ì§„í–‰ ìƒí™©

### ì „ì²´ ì§„í–‰ë¥ : 85% (17/20 ì‘ì—… ì™„ë£Œ)

### Phase 1: ê¸´ê¸‰ ìˆ˜ì • - 100% (4/4) [ì™„ë£Œ]
- [x] 1.1 Bulk Generate í˜ì´ì§€ DashboardLayout ì ìš©
- [x] 1.2 Bulk Generate í˜ì´ì§€ í•œêµ­ì–´í™”
- [x] 1.3 Analytics í˜ì´ì§€ DashboardLayout ì ìš©
- [x] 1.4 Analytics í˜ì´ì§€ í•œêµ­ì–´í™”

### Phase 2: ì˜µì…˜ê°’ í•œêµ­ì–´í™” - 100% (3/3) [ì™„ë£Œ]
- [x] 2.1 ì—­í• (Role) í•œêµ­ì–´ ë§¤í•‘
- [x] 2.2 êµ¬ë… í‹°ì–´(Tier) í•œêµ­ì–´ ë§¤í•‘
- [x] 2.3 ì½”ë“œ íƒ€ì… í•œêµ­ì–´ í™•ì¸ (ì´ë¯¸ ì™„ë£Œ)

### Phase 3: ì¼ê´€ì„± ê°œì„  - 100% (3/3) [ì™„ë£Œ]
- [x] 3.1 ë²„íŠ¼ ìŠ¤íƒ€ì¼ í†µì¼
- [x] 3.2 ì¹´ë“œ/ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ í†µì¼
- [x] 3.3 í—¤ë” ìŠ¤íƒ€ì¼ í†µì¼

### Phase 4: ì²­êµ¬ ì‹œìŠ¤í…œ êµ¬ì¶• - 100% (4/4) [ì™„ë£Œ]
- [x] 4.1 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì ìš©
- [x] 4.2 ì²­êµ¬ ê´€ë¦¬ API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
- [x] 4.3 ì²­êµ¬ ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ UI êµ¬í˜„
- [x] 4.4 íšŒì‚¬ ê´€ë¦¬ í˜ì´ì§€ ì¶”ê°€

**Task 4 ìƒì„¸ ë‚´ì—­**:

**4.1 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ** [ì™„ë£Œ]
- íŒŒì¼: `supabase/migrations/20251117_billing_system.sql`
- ì¶”ê°€ëœ í…Œì´ë¸”:
  - `company_subscriptions` - íšŒì‚¬ êµ¬ë… ì •ë³´
  - `monthly_billing_records` - ì›”ë³„ ì²­êµ¬ ê¸°ë¡
  - `user_activity_logs` - ì‚¬ìš©ì í™œë™ ë¡œê·¸
- ì¶”ê°€ëœ í•¨ìˆ˜:
  - `calculate_volume_discount()` - ë³¼ë¥¨ í• ì¸ ê³„ì‚°
  - `get_active_users_for_period()` - ê¸°ê°„ë³„ í™œì„± ì‚¬ìš©ì ì¡°íšŒ
  - `generate_monthly_invoice()` - ì›”ë³„ ì¸ë³´ì´ìŠ¤ ìë™ ìƒì„±
- ìë™ íŠ¸ë¦¬ê±°: ì‚¬ìš©ì í™œë™ ìë™ ë¡œê¹…

**4.2 API ì—”ë“œí¬ì¸íŠ¸** [ì™„ë£Œ]
- `GET/POST /api/admin/billing/invoices` - ì¸ë³´ì´ìŠ¤ ëª©ë¡/ìƒì„±
- `GET/PUT/DELETE /api/admin/billing/invoices/[id]` - ì¸ë³´ì´ìŠ¤ ìƒì„¸/ìˆ˜ì •/ì·¨ì†Œ
- `GET /api/admin/billing/stats` - ì²­êµ¬ í†µê³„
- `GET/POST /api/admin/companies` - íšŒì‚¬ ëª©ë¡/ì¶”ê°€

**4.3 ì²­êµ¬ ëŒ€ì‹œë³´ë“œ UI** [ì™„ë£Œ]
- íŒŒì¼: `app/admin/billing/page.tsx`
- ì»´í¬ë„ŒíŠ¸: `components/analytics/payment-analytics-dashboard.tsx`
- ê¸°ëŠ¥:
  - ì˜ˆìƒ MRR, ì´ ìˆ˜ìµ, ë¯¸ìˆ˜ê¸ˆ, í™œì„± íšŒì‚¬ í‘œì‹œ
  - ë‹¹ì›” ì²­êµ¬ í˜„í™© (ì¸ë³´ì´ìŠ¤ ìˆ˜, í™œì„± ì‚¬ìš©ì, ì²­êµ¬ì•¡)
  - ì›”ë³„ ìˆ˜ìµ ì¶”ì´ ì°¨íŠ¸
  - ì›”ë³„ í™œì„± ì‚¬ìš©ì ì¶”ì´ ì°¨íŠ¸
  - ì§€ì‹ ë ˆë²¨ë³„ ì‚¬ìš©ì ë¶„í¬ (Pie Chart)
  - ì¸ë³´ì´ìŠ¤ ìƒíƒœë³„ ë¶„í¬ (Bar Chart)
- Lucide ì•„ì´ì½˜: DollarSign, Users, TrendingUp, AlertCircle

**4.4 íšŒì‚¬ ê´€ë¦¬ í˜ì´ì§€** [ì™„ë£Œ]
- íŒŒì¼:
  - `app/admin/billing/companies/page.tsx` - íšŒì‚¬ ëª©ë¡
  - `app/admin/billing/invoices/page.tsx` - ì¸ë³´ì´ìŠ¤ ëª©ë¡
- ê¸°ëŠ¥:
  - íšŒì‚¬ êµ¬ë… í˜„í™© ì¹´ë“œí˜• ë³´ê¸°
  - ìƒíƒœë³„ í•„í„°ë§ (í™œì„±, ì¼ì‹œì •ì§€, ì·¨ì†Œ, í‰ê°€íŒ)
  - íšŒì‚¬ë³„ í†µê³„ (ì´ ì‚¬ìš©ì, í™œì„± ì‚¬ìš©ì, ìš”ê¸ˆ, ê²°ì œ ì¡°ê±´)
  - ì¸ë³´ì´ìŠ¤ ê²€ìƒ‰ ë° í•„í„°ë§
  - ì¸ë³´ì´ìŠ¤ ìƒì„¸ë³´ê¸° ë° ë‹¤ìš´ë¡œë“œ
- Lucide ì•„ì´ì½˜: Building2, Users, DollarSign, Calendar, Plus, Edit, Eye, FileText, Download, Filter, Search

### Phase 5: ì‚¬ìš©ì ê²½í—˜ ê°œì„  - 0% (0/3) [ì„ íƒì‚¬í•­]
- [ ] 5.1 ì•ˆë‚´ ë¬¸êµ¬ ê°œì„ 
- [ ] 5.2 ë„ì›€ë§ ì¶”ê°€
- [ ] 5.3 ë°˜ì‘í˜• ë””ìì¸ ê°œì„ 

---

## ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë³€ê²½ ì‚¬í•­ | ë‹´ë‹¹ì |
|------|-----------|--------|
| 2025-11-17 | ë¬¸ì„œ ìµœì´ˆ ì‘ì„± | Claude |
| 2025-11-17 | Phase 1 ì™„ë£Œ: ëª¨ë“  í˜ì´ì§€ DashboardLayout ì ìš© ë° í•œêµ­ì–´í™” | Claude |
| 2025-11-17 | Phase 2 ì™„ë£Œ: ëª¨ë“  ì—­í• /í‹°ì–´ ì˜µì…˜ í•œêµ­ì–´í™” | Claude |
| 2025-11-17 | Phase 3 ì™„ë£Œ: ë²„íŠ¼, ì¹´ë“œ, í—¤ë” ìŠ¤íƒ€ì¼ í†µì¼ | Claude |
| 2025-11-17 | ë¬¸ì„œì—ì„œ ëª¨ë“  ì´ëª¨ì§€ ì œê±°, í…ìŠ¤íŠ¸ ì¸ë””ì¼€ì´í„°ë¡œ êµì²´ | Claude |
| 2025-11-17 | ê°€ê²© ëª¨ë¸ ëª…í™•í™”: í‹°ì–´ = ì§€ì‹ ì ‘ê·¼ ë ˆë²¨ (ìš”ê¸ˆ ë™ì¼) | Claude |
| 2025-11-17 | UI ì—…ë°ì´íŠ¸: "êµ¬ë… í‹°ì–´" â†’ "ì§€ì‹ ì ‘ê·¼ ë ˆë²¨" + ì„¤ëª… ì¶”ê°€ | Claude |
| 2025-11-17 | ë¬¸ì„œ ì¶”ê°€: PRICING_MODEL.md, SCHEMA_CHANGES_FOR_BILLING.md | Claude |
| 2025-11-17 | Phase 4 ì™„ë£Œ: ì²­êµ¬ ì‹œìŠ¤í…œ ì™„ì „ êµ¬ì¶• (DB, API, UI) | Claude |
| 2025-11-17 | ì²­êµ¬ ëŒ€ì‹œë³´ë“œ UI ê°œí¸: ìƒˆë¡œìš´ per-seat ì²­êµ¬ ì‹œìŠ¤í…œ í†µí•© | Claude |
| 2025-11-17 | íšŒì‚¬ ê´€ë¦¬ í˜ì´ì§€ ë° ì¸ë³´ì´ìŠ¤ ê´€ë¦¬ í˜ì´ì§€ ì¶”ê°€ | Claude |

---

## ê´€ë ¨ ë¬¸ì„œ

- [KakaoTalk ì„¤ì • ê°€ì´ë“œ](./KAKAO_SETUP.md)
- [KakaoTalk ë©”ì‹œì§€ í”Œë¡œìš°](./claudedocs/KAKAOTALK_MESSAGE_FLOW.md)
- [ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜](./supabase/migrations/20251113_kakao_auth_support.sql)
- [ê°€ê²© ëª¨ë¸ ìƒì„¸](./PRICING_MODEL.md)
- [ì²­êµ¬ ì‹œìŠ¤í…œ ìŠ¤í‚¤ë§ˆ ë³€ê²½](./SCHEMA_CHANGES_FOR_BILLING.md)

---

## ì°¸ê³ ì‚¬í•­

### í•œêµ­ì–´ ë²ˆì—­ ê°€ì´ë“œë¼ì¸

1. **ì—­í• (Role) ë²ˆì—­**:
   - user â†’ ì‚¬ìš©ì
   - junior â†’ ì£¼ë‹ˆì–´
   - senior â†’ ì‹œë‹ˆì–´
   - manager â†’ ê´€ë¦¬ì
   - admin â†’ ì´ê´„ ê´€ë¦¬ì
   - ceo â†’ ëŒ€í‘œì´ì‚¬

2. **êµ¬ë… í‹°ì–´(Tier) ë²ˆì—­**:
   - free â†’ ë¬´ë£Œ
   - basic â†’ ë² ì´ì§
   - pro â†’ í”„ë¡œ
   - enterprise â†’ ì—”í„°í”„ë¼ì´ì¦ˆ

3. **ì¼ë°˜ ìš©ì–´**:
   - Code â†’ ì½”ë“œ
   - Generate â†’ ìƒì„±
   - Upload â†’ ì—…ë¡œë“œ
   - Download â†’ ë‹¤ìš´ë¡œë“œ
   - Delete â†’ ì‚­ì œ
   - Edit â†’ ìˆ˜ì •
   - View â†’ ë³´ê¸°
   - Back â†’ ì´ì „
   - Next â†’ ë‹¤ìŒ
   - Submit â†’ ì œì¶œ
   - Cancel â†’ ì·¨ì†Œ
   - Save â†’ ì €ì¥

4. **ê¸°ìˆ  ìš©ì–´ ì²˜ë¦¬**:
   - CSVëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (ë³´í¸ì ìœ¼ë¡œ ì‚¬ìš©ë¨)
   - Emailì€ "ì´ë©”ì¼"ë¡œ ë²ˆì—­
   - KakaoTalkì€ "ì¹´ì¹´ì˜¤í†¡"ìœ¼ë¡œ ë²ˆì—­
   - SMSëŠ” "ë¬¸ì"ë¡œ ë²ˆì—­

---

**ë¬¸ì„œ ë**
